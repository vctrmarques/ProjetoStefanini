<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"></link>
	<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<title>Mostrar Usuários</title>
</h:head>
<h:body>
	<div class="panel panel-default">
		<div class="panel-heading">
			<strong>PROCESO SELETIVO PITANG - SEFAZ-PE</strong>
		</div>
		<div class="panel-body">
			<div class="table-responsive">
				<h:form id="formUsuario">
					<table
						class="table table-sm table-striped table-hover table-bordered">
						<thead>
							<tr>
								<th>Id</th>
								<th>Nome</th>
								<th>Email</th>
								<th>ddd</th>
								<th>Telefone</th>
								<th>Tipo</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat value="#{usuarioBean.listUser}" var="user">
								<tr>
									<td><h:outputText type="text" id="id" readOnly="false" value="#{user.id}" size="3" /></td>
									<td><h:outputText type="text" id="nome" readOnly="true" value="#{user.nome}" /></td>
									<td><h:outputText type="text" id="email" readOnly="true" value="#{user.email}" /></td>
									<ui:repeat value="#{user.telefone}" var="fone">
										<td><h:outputText type="text" id="DDD" readOnly="true" value="#{fone.ddd}" size="3" /></td>
										<td><h:outputText type="text" id="numero" readOnly="true" value="#{fone.numero}" size="6" /></td>
										<td><h:outputText type="text" id="tipo" readOnly="true" value="#{fone.tipo}" /></td>
									</ui:repeat>
								</tr>
							</ui:repeat>
						</tbody>
					</table>
				</h:form>
				<div id="formFooter">
					<h:form >
						<h:outputText value="Usuário ou senha incorretos!" rendered="#{param.erro}" style="color: darkred" />
						<p:inputText id="focus" class="fadeIn second" name="focus"
							value="#{usuarioBean.usuario.id}">
							<f:passThroughAttribute name="placeholder" value="Login" size="3"/>
							<p:tooltip id="toolTipTrack" for="focus" value="Digite o ID do Login a ser alterado ou excluido" trackMouse="true" />
						</p:inputText>
						<p:commandButton id="alterar" action="#{usuarioBean.alterar(usuarioBean.usuario.id)}" value="Alterar" class="btn btn-sm btn-primary"></p:commandButton>
						<p:commandButton id="excluir" action="#{usuarioBean.excluir(usuarioBean.usuario.id)}" value="Excluir" class="delete btn btn-sm btn-danger"></p:commandButton>
					</h:form>
				</div>
			</div>
		</div>
		<div class="panel-footer">
			<h:form id="formUsuarioSalvar">
				<h:commandButton action="#{usuarioBean.novo}" update="formUsuarioSalvar" value="Adicionar" class="btn btn-sm btn-success" />
			</h:form>
		</div>
	</div>
</h:body>
</html>
